{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./example/index.js"],"names":["G","args","interval","count","role","v","ballList","score","scoreScreen","createRole","control","draw","forEach","ball","createBoll","change","drop","checkHits","hits","over","gameOverStage","setText","console","log","Sprite","context","rect","stage","width","setSize","x","w","jump","bindEvent","epos","h","height","col","Math","ceil","bind","obj","setPosition","min","colPos","rnd","random","i","Ball","floor","length","setBallInitPosition","push","splice","index","JY","y","view","document","getElementById","Stage","descript","Descript","text","gameOver","GameOver","title","Title","Control","game","files","image","setup"],"mappings":"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","file":"test.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./example/index.js\");\n","class G extends JY {\r\n    constructor(...args){\r\n        super(...args)\r\n        this.interval = 20;\r\n        this.count = 1;\r\n        this.role;\r\n        this.v = 2;//速度 \r\n        this.ballList = [];//球的集合\r\n        this.score = 0;\r\n        this.scoreScreen;\r\n    }\r\n    newGame() {\r\n        this.count = 1;\r\n        this.v = 2;\r\n        this.score = 0;\r\n        this.ballList = [];\r\n        //init\r\n        this.createRole();\r\n        super.newGame();\r\n        this.control();\r\n    }\r\n    running() {\r\n        super.running();\r\n        this.count++;\r\n        // console.log(this.count)\r\n        this.role.draw();\r\n        this.ballList.forEach(ball => {\r\n            ball.draw();\r\n        });\r\n        this.createBoll();\r\n        this.scoreScreen.change('您已行驶 ' + this.score + ' 米');\r\n        this.drop();\r\n        this.checkHits();\r\n\r\n    }\r\n    checkHits() {\r\n        this.ballList.forEach(ball => {\r\n            if (this.hits(this.role, ball)) {\r\n                this.over()\r\n            }\r\n        });\r\n    }\r\n    gameOver() {\r\n        super.gameOver();\r\n        this.gameOverStage.setText('得分：' + this.score);\r\n    }\r\n    loading() {\r\n        console.log('loading...')\r\n        super.loading();\r\n    }\r\n    //创建英雄\r\n    createRole() {\r\n        this.role = new Sprite(this.context, 'car.png');\r\n        let rect = this.stage.width / 3 - 10;\r\n        this.role.setSize(rect, rect);\r\n        let x = this.stage.width / 2 - this.role.w / 2;\r\n        // this.role.setPosition(this.stage.width/3,this.stage.height - this.role.h);\r\n        this.jump(1, this.role);\r\n    }\r\n    //控制器\r\n    control() {\r\n        this.stage.bindEvent(function (epos) {\r\n            let w = this.stage.width;\r\n            let h = this.stage.height;\r\n            let col = Math.ceil(epos[0] / (w / 3));//分三栏，判断点击是哪一栏\r\n            this.jump(col, this.role);\r\n        }.bind(this));\r\n    }\r\n    //跳啊\r\n    jump(col, obj) {\r\n        let x = this.stage.width / 3 * col - this.stage.width / 3 / 2 - this.role.w / 2;\r\n        obj.setPosition(x, this.stage.height / 2 + this.role.h);\r\n    }\r\n    //设置球的初始位置\r\n    setBallInitPosition(ball, col) {\r\n        let x = this.stage.width / 3 * col - this.stage.width / 3 / 2 - ball.w / 2;\r\n        ball.setPosition(x, 0);\r\n    }\r\n    createBoll() {\r\n        //创建小球\r\n        if (this.count % 100 == 0) {\r\n            this.v = Math.min(this.v + .3, 5);\r\n            this.score++;\r\n            //10帧创建\r\n            let colPos = [1, 2, 3];//三列中的某一列\r\n            let rnd = Math.ceil(Math.random() * 2);//创建一个或2;\r\n            let i = 0;\r\n            while (true) {\r\n                let ball = new Ball(this.context, this.stage.width / 3 - 10, this.stage.width / 4);\r\n                let col = Math.floor(Math.random() * colPos.length);\r\n                this.setBallInitPosition(ball, colPos[col]);\r\n                this.ballList.push(ball);\r\n                colPos.splice(col, 1);\r\n                i++;\r\n                if (i >= rnd) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    drop() {\r\n        this.ballList.forEach((ball, index) => {\r\n            ball.drop(this.v);\r\n            if (ball.x > this.stage.height) {\r\n                this.ballList.splice(index, 1)\r\n            }\r\n        });\r\n    }\r\n}\r\nclass Ball extends Sprite {\r\n    constructor(context, w, h) {\r\n        super(context, 'car1.png');\r\n        this.setSize(w, h);\r\n    }\r\n    drop(v) {\r\n        this.setPosition(this.x, this.y + v)\r\n    }\r\n}\r\nvar view = document.getElementById('root');\r\nvar height = 200;\r\nvar width = 200;\r\nvar stage = new Stage(width, height);\r\nvar descript = new Descript('welcome');\r\ndescript.text = \"hello world. descript\";\r\nlet gameOver = new GameOver('restart');\r\nlet title = new Title('碰撞汽车');\r\nlet control = new Control();\r\ncontrol.rect = [100, 100]\r\nlet game = new G(view, stage, title, descript, gameOver);\r\ngame.files = { image: ['car1.png', 'car2.png', 'car.png'] };\r\ngame.setup();"],"sourceRoot":""}